:root {
  --fluent-primary-grad: radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.65 0.18 var(--hue) / 0.3) 0,
      oklch(0.65 0.18 var(--hue) / 0) 50%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.65 0.18 var(--hue) / 0.5) 0,
      oklch(0.65 0.18 var(--hue) / 0) 75%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.65 0.18 var(--hue) / 0.8) 0,
      oklch(0.65 0.18 var(--hue) / 0) 100%
    );

  --fluent-secondary-grad: radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.7 0.16 calc(var(--hue) + 60) / 0.3) 0,
      oklch(0.7 0.16 calc(var(--hue) + 60) / 0) 50%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.7 0.16 calc(var(--hue) + 60) / 0.5) 0,
      oklch(0.7 0.16 calc(var(--hue) + 60) / 0) 75%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.7 0.16 calc(var(--hue) + 60) / 0.8) 0,
      oklch(0.7 0.16 calc(var(--hue) + 60) / 0) 100%
    );

  --fluent-tertiary-grad: radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.75 0.14 calc(var(--hue) + 120) / 0.3) 0,
      oklch(0.75 0.14 calc(var(--hue) + 120) / 0) 50%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.75 0.14 calc(var(--hue) + 120) / 0.5) 0,
      oklch(0.75 0.14 calc(var(--hue) + 120) / 0) 75%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.75 0.14 calc(var(--hue) + 120) / 0.8) 0,
      oklch(0.75 0.14 calc(var(--hue) + 120) / 0) 100%
    );

  --fluent-quaternary-grad: radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.68 0.18 calc(var(--hue) + 180) / 0.3) 0,
      oklch(0.68 0.18 calc(var(--hue) + 180) / 0) 50%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.68 0.18 calc(var(--hue) + 180) / 0.5) 0,
      oklch(0.68 0.18 calc(var(--hue) + 180) / 0) 75%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.68 0.18 calc(var(--hue) + 180) / 0.8) 0,
      oklch(0.68 0.18 calc(var(--hue) + 180) / 0) 100%
    );

  --fluent-quinary-grad: radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.6 0.2 calc(var(--hue) + 240) / 0.3) 0,
      oklch(0.6 0.2 calc(var(--hue) + 240) / 0) 50%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.6 0.2 calc(var(--hue) + 240) / 0.5) 0,
      oklch(0.6 0.2 calc(var(--hue) + 240) / 0) 75%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.6 0.2 calc(var(--hue) + 240) / 0.8) 0,
      oklch(0.6 0.2 calc(var(--hue) + 240) / 0) 100%
    );

  --fluent-senary-grad: radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.65 0.22 calc(var(--hue) + 300) / 0.3) 0,
      oklch(0.65 0.22 calc(var(--hue) + 300) / 0) 50%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.65 0.22 calc(var(--hue) + 300) / 0.5) 0,
      oklch(0.65 0.22 calc(var(--hue) + 300) / 0) 75%
    ),
    radial-gradient(
      50% 50% at 50% 50%,
      oklch(0.65 0.22 calc(var(--hue) + 300) / 0.8) 0,
      oklch(0.65 0.22 calc(var(--hue) + 300) / 0) 100%
    );
}

.fluent-bg {
  z-index: -1;
  width: 100%;
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  padding-bottom: 300%;
  width: 300%;
  opacity: 0.18;
  pointer-events: none;
  contain: layout style;
}

:root.dark .fluent-bg {
  opacity: 0.14;
}

/* Reduce Motion Mode - hide animated background */
:root.reduce-motion .fluent-bg {
  display: none;
}

/* Material Normal Mode - static background without animations */
:root.material-normal .fluent-bg {
  animation: none !important;
}

:root.material-normal .fluent-bg > div {
  animation: none !important;
  will-change: auto;
  transform: none;
}

/* Gradient children - minimal GPU overhead */
.fluent-bg > div {
  position: inherit;
}

.fluent-bg .blue-gradient {
  background-image: var(--fluent-primary-grad);
  bottom: 10%;
  left: 0;
  right: 0;
  top: 26%;
}

.fluent-bg .blue-gradient-bottom {
  background-image: var(--fluent-primary-grad);
  bottom: 0;
  left: 0;
  right: 24.38%;
  top: 51.52%;
}

.fluent-bg .green-gradient {
  background-image: var(--fluent-secondary-grad);
  bottom: 44%;
  left: 17%;
  right: 17%;
  top: 13.7%;
}

.fluent-bg .yellow-gradient {
  background-image: var(--fluent-tertiary-grad);
  bottom: 33.2%;
  left: 36.88%;
  right: 19.69%;
  top: 5.73%;
}

.fluent-bg .red-gradient {
  background-image: var(--fluent-quaternary-grad);
  bottom: 45.27%;
  left: 37.78%;
  right: 4.9%;
  top: 17.96%;
}

.fluent-bg .purple-gradient {
  background-image: var(--fluent-quinary-grad);
  bottom: 38.4%;
  left: 45.99%;
  right: 1.86%;
  top: 28.59%;
}

/* Animations - Use transform3d for GPU acceleration */
.fluent-bg .green-gradient {
  animation: gga 40s infinite;
  will-change: transform;
}

@keyframes gga {
  50%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  75% {
    transform: translate3d(0, 36%, 0);
  }
}

.fluent-bg .blue-gradient-bottom {
  animation: bgba 80s infinite;
  will-change: transform;
}

@keyframes bgba {
  0%,
  50% {
    transform: translate3d(0, 0, 0);
  }
  25% {
    transform: translate3d(16%, -53%, 0);
  }
}

.fluent-bg .purple-gradient {
  animation: pga 120s infinite;
  will-change: transform, opacity;
}

@keyframes pga {
  0%,
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
  25%,
  75% {
    opacity: 0.5;
    transform: translate3d(0, 0, 0);
  }
  50% {
    opacity: 0.5;
    transform: translate3d(-42%, 15%, 0);
  }
}

.fluent-bg[data-paused="true"] .green-gradient,
.fluent-bg[data-paused="true"] .blue-gradient-bottom,
.fluent-bg[data-paused="true"] .purple-gradient {
  animation-play-state: paused;
}
